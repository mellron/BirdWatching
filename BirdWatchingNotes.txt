using System;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;

public class JsonConverter
{
    public static string ConvertSourceToDestination(string sourceJson)
    {
        // Parse the source JSON into a JObject
        var source = JObject.Parse(sourceJson);

        // Create the destination JSON object
        JObject destination = new JObject();
        JArray links = new JArray();
        JArray socialMedia = new JArray();
        JArray disclosures = new JArray();

        // Map links
        foreach (var item in source["links"])
        {
            var id = item["title"].ToString() == "Home" ? 1 :
                     item["title"].ToString() == "Workforce demographics" ? 2 :
                     item["title"].ToString() == "Accessibility" ? 3 :
                     item["title"].ToString() == "Terms of Use" ? 4 :
                     item["title"].ToString() == "U.S. Bank Company blog" ? 5 :
                     item["title"].ToString() == "Privacy" ? 6 : 0;

            var link = new JObject
            {
                ["id"] = id,
                ["title"] = item["title"],
                ["link"] = item["link"],
                ["target"] = item["target"]
            };
            links.Add(link);
        }

        // Map social media links
        int socialId = 1;
        foreach (var item in source["socialMedia"])
        {
            var socialLink = new JObject
            {
                ["id"] = socialId++,
                ["imagePath"] = item["imagePath"],
                ["link"] = item["link"],
                ["target"] = item["target"]
            };
            socialMedia.Add(socialLink);
        }

        // Map disclosures
        var disclosure1 = new JObject
        {
            ["id"] = 1,
            ["text"] = source["disclosureText"]
        };
        var disclosure2 = new JObject
        {
            ["id"] = 2,
            ["text"] = source["disclosureWithBorder"].ToString().Replace("<br/><br/>", "\n")
        };
        disclosures.Add(disclosure1);
        disclosures.Add(disclosure2);

        // Build the final JSON structure
        destination["links"] = links;
        destination["socialMedia"] = socialMedia;
        destination["disclosureText"] = disclosures;

        // Convert JObject back to string
        return destination.ToString(Formatting.Indented);
    }
}
